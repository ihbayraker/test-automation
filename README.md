# Getting Started

[![workflow](https://github.com/ihbayraker/test-automation/actions/workflows/run-tests.yml/badge.svg)](https://github.com/ihbayraker/test-automation/actions/runs/1869686019)  [![Netlify Status](https://api.netlify.com/api/v1/badges/f51c65b7-63f5-4627-911a-9e5b3b1125d5/deploy-status)](https://demo-test-automation-results.netlify.app)


- This project uses Selenium with BDD Framework to automate web and api testing
- It's configured to run several web and api tests out of the box.
- The web test are run on [ToolQA](https://demoqa.com) while api tests use [Petstore](https://petstore.swagger.io/).
- To execute the tests in default configuration locally run the command below through command console.
```sh
$ mvn clean test exec:java
```
- After the execution the report of the results should be fired up automatically, but they can be also found in **target/cucumber-html-report** folder.
- The Netlify badge above is linked to a report generated by this project when ran with the default configuration.
# Configuration
- Several parameters can be altered via maven commands.
- By default, the tests will be run on **Chrome** browser **headless** and a report wil be generated however all these can be altered with commands shown below.

| Command | Parameters | Description |
| ------ | ------ | ------ |
| mvn clean test | N/A | Mandatory, runs the tests. |
| exec:java | N/A | Optional, Fires up the reports automatically, should  only used in a local environment. |
| Dcucumber.filter.tags=@all | @all, @web, @api @demoqa, @petstore, @elements, @forms, @bookstore, @alertswindows, @user, @pet, @order  | Optional, specify the feature tags to manipulate test scope, By default **@all** is run.  |
| Dcucumber.reporting.skip=false | true,false | Optional, determines if the report generation step is skipped or not, by default its **false**. |
| Dbrowser=chrome | chrome, firefox, opera, edge | Optional, determines the browser  test will be run at, by default its **chrome**. |
| Dheadless=true | true, false | Optional, determines if the browser will be run headless or not, by default its **true**. |

- Based on the information given above if we wanted to execute bookstore tests in a CI/CD pipeline using the firefox browser we should use a command like this.
```sh
$ mvn clean test -Dcucumber.reporting.skip=false -Dcucumber.filter.tags=@bookstore -Dbrowser=firefox
```
# Scenarios

- There are in total 23 scenarios bundled in this project. 18 of them are web tests ran on demoqa while 5 of them are api tests for petstore.
- The scenarios are categorized in a hierarchy, **@all** tag is included in every scenario to run them all in a single command while **@web** and **@api** tags indicate the type of testing the scenarios include. The rest of the tags are module spesific tags.
  
 | Tags | Features | Description |
 | ------ | ------ | ------ |
 | @all, @web, @demoqa, @alertswindows | Alerts.feature, NewMessage.feature, NewTab.feature, NewWindow.feature | Tests the Alerts, Frame & Windows tab on ToolsQA. Scenarios include testing all alerts and browser window buttons.  |
 | @all, @web, @demoqa, @bookstore | BookstoreAddDelete.feature, BookstoreAddLogout.feature, BookstoreDeleteAll.feature, BookstoreLoginFail.feature | Tests the Book Store Application tab on ToolsQA. Scenarios include creating an account via api, login/logout operations and adding/removing books.  |
 | @all, @web, @demoqa, @elements | Buttons.feature, CheckBox.feature, DownloadAndUpload.feature, Links.feature, RadioButton.feature, TextBox.feature, WebTablesAdd.feature, WebTablesDelete.feature, WebTablesUpdate.feature | Tests the Elements tab on ToolsQA. Scenarios include almost every section of this module becuase elements here are used on every part of the website as such in case of a failure its much easier to debug when they are isolated. |
 | @all, @web, @demoqa, @forms | FillForm.feature | Tests the Forms tab on ToolsQA. Only scenario is filling the entire form in a single long one. There is no point in separating scenarios for this one. |
 | @all, @api, @petstore, @user | UserCreateUpdate.feature, UserCreateDelete.feature | Tests the user api in petstore. The api is tested for most fundamental operations which are create, update and delete. Some operations are done logged in as api documentation requires. |
 | @all, @api, @petstore, @pet | PetAddDelete.feature, PetAddUpdate.feature | Tests the pet api in petstore. The api is tested for most fundamental operations which are create, update and delete. An image generated and uploaded for update scenario. |
 | @all, @api, @petstore, @order | PlaceOrderDelete.feature | Tests the order api in petstore. The api does not allow updating as such placing an order then deleting it is run in single scenario. A pet is also created with pet api to place an order with. |

